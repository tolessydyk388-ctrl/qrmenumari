<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>–ó–∞–∫–∞–∑ –µ–¥—ã ‚Äî –ö–æ–º–ø—å—é—Ç–µ—Ä–Ω—ã–π –∫–ª—É–±</title>
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,500;1,400;1,500&display=swap" rel="stylesheet">
<style>
:root {
  --bg-main: #F6F4F1;
  --bg-card: #FFFFFF;
  --accent: #B89B7C;
  --accent-hover: #A88A6A;
  --text-main: #2E2E2E;
  --radius: 16px;
}

* { box-sizing: border-box; }
body { margin: 0; font-family: 'Cormorant Garamond', serif; background: var(--bg-main); color: var(--text-main); transition: background 0.3s; }

h2 { margin-bottom: 12px; }
.hidden { display: none; }

.card { background: var(--bg-card); border-radius: var(--radius); padding: 24px; box-shadow: 0 6px 20px rgba(0,0,0,0.04); }

.pc-select { min-height: 100vh; display: flex; align-items: center; justify-content: center; padding: 16px; }

select, textarea, button {
  width: 100%; padding: 16px; border-radius: var(--radius); border: 1px solid #ddd; font-size: 18px; font-family: inherit;
}

button { background: var(--accent); color: #fff; border: none; cursor: pointer; transition: background 0.3s, transform 0.2s; }
button:hover { background: var(--accent-hover); }

.container { max-width: 500px; margin: 0 auto; padding: 16px; }

.menu-list { display: flex; flex-direction: column; gap: 12px; }

.menu-row { display: flex; justify-content: space-between; align-items: center; padding: 12px; background: var(--bg-card); border-radius: var(--radius); box-shadow: 0 3px 10px rgba(0,0,0,0.05); font-size: 18px; transition: transform 0.3s, box-shadow 0.3s; }
.menu-row.added { animation: pop 0.3s; }
.menu-name { font-style: italic; }

@keyframes pop {
  0% { transform: scale(0.9); opacity:0; }
  100% { transform: scale(1); opacity:1; }
}

/* –ü–ª–∞–≤–∞—é—â–∞—è –∫–æ—Ä–∑–∏–Ω–∞ */
.cart-button {
  position: fixed; right: 16px; bottom: 16px;
  background: var(--accent); color: #fff;
  border: none; border-radius: 50%;
  width: 56px; height: 56px;
  font-size: 24px; cursor: pointer;
  box-shadow: 0 4px 12px rgba(0,0,0,0.3); z-index: 1000;
  display: flex; justify-content:center; align-items:center;
  transition: transform 0.2s;
}
.cart-button:active { transform: scale(0.9); }

.cart-count {
  position: absolute;
  top: -6px; right: -6px;
  background: red; color: #fff;
  border-radius: 50%; width: 20px; height: 20px;
  font-size: 12px; display: flex; justify-content: center; align-items: center;
  transition: transform 0.2s;
}

/* –ü–∞–Ω–µ–ª—å –∫–æ—Ä–∑–∏–Ω—ã */
.cart-panel {
  position: fixed; top: 0; right: 0;
  width: 90%; max-width: 400px; height: 100%;
  background: var(--bg-card);
  box-shadow: -4px 0 20px rgba(0,0,0,0.2);
  padding: 16px;
  transform: translateX(100%);
  transition: transform 0.4s ease, box-shadow 0.4s ease;
  z-index: 1001;
  display: flex; flex-direction: column;
}
.cart-panel.open { transform: translateX(0); }

.cart-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px; }

.cart-item { display: flex; justify-content: space-between; margin-bottom: 6px; opacity: 0; animation: fadeIn 0.4s forwards; }
@keyframes fadeIn { to { opacity:1; } }

.success { text-align: center; padding: 60px 20px; }

/* –ú–æ–±–∏–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è */
@media (max-width: 768px) {
  .menu-row { flex-direction: column; align-items: flex-start; gap: 8px; }
  select, textarea, button { font-size: 18px; padding: 14px; }
  .card { padding: 20px; }
}
</style>
</head>
<body>

<div id="stepPc" class="pc-select">
  <div class="card" style="width:100%">
    <h2>–ó–∞–∫–∞–∑ –µ–¥—ã</h2>
    <p>–í—ã–±–µ—Ä–∏—Ç–µ –Ω–æ–º–µ—Ä –≤–∞—à–µ–≥–æ –ü–ö</p>
    <select id="pcNumber"></select>
    <button style="margin-top:16px" onclick="goToMenu()">–ü–µ—Ä–µ–π—Ç–∏ –∫ –º–µ–Ω—é</button>
  </div>
</div>

<div id="stepMenu" class="hidden">
  <div class="container">
    <div class="header">
      <h2>–ú–µ–Ω—é</h2>
      <div>–ü–ö ‚Ññ <span id="pcLabel"></span></div>
    </div>
    <div id="menuList" class="menu-list"></div>
  </div>
</div>

<button class="cart-button" id="cartBtn" onclick="toggleCart()">üõí
  <div class="cart-count" id="cartCount">0</div>
</button>

<div id="cartPanel" class="cart-panel">
  <div class="cart-header">
    <strong>–ö–æ—Ä–∑–∏–Ω–∞</strong>
    <button onclick="toggleCart()">‚úï</button>
  </div>
  <div id="cartItems" style="flex-grow:1; overflow-y:auto;"></div>
  <textarea id="comment" placeholder="–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫ –∑–∞–∫–∞–∑—É" style="margin-top:8px;"></textarea>
  <button style="margin-top:10px" onclick="sendOrder()">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–∫–∞–∑</button>
</div>

<div id="success" class="hidden success">
  <h2>–ó–∞–∫–∞–∑ –ø—Ä–∏–Ω—è—Ç</h2>
  <p>–û–∂–∏–¥–∞–π—Ç–µ –¥–æ—Å—Ç–∞–≤–∫—É –∫ –≤–∞—à–µ–º—É –ü–ö</p>
  <button onclick="location.reload()">–°–¥–µ–ª–∞—Ç—å –µ—â–µ –∑–∞–∫–∞–∑</button>
</div>

<script>
const pcSelect=document.getElementById('pcNumber');
for(let i=1;i<=40;i++){ pcSelect.innerHTML+=`<option value="${i}">–ü–ö ${i}</option>`; }

const menuData=[
  {name:'–≠—Å–ø—Ä–µ—Å—Å–æ',price:1290},{name:'–ê–º–µ—Ä–∏–∫–∞–Ω–æ',price:1590},{name:'–ö–∞–ø—É—á–∏–Ω–æ',price:1990},
  {name:'–õ–∞—Ç—Ç–µ',price:2290},{name:'–†–∞—Ñ',price:2290},{name:'–ë–∞—Ç—á –±—Ä—é',price:1990},
  {name:'–í–∞–Ω–∏–ª—å–Ω—ã–π –ª–∞—Ç—Ç–µ',price:2490},{name:'–ú–∞—Ç—á–∞ –∫–æ–∫–æ—Å –ª–∞—Ç—Ç–µ',price:2490},
  {name:'Tassay 230 –º–ª',price:1590},{name:'Borjomi 330 –º–ª',price:3190},
  {name:'Coca-Cola',price:1290},{name:'Red Bull',price:2390},{name:'–ú–µ–¥–æ–≤–∏–∫',price:2590},
  {name:'–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π —á–∏–∑–∫–µ–π–∫',price:3290},{name:'Mojito',price:2490}
];

const cart=[];
function goToMenu(){
  if(!pcSelect.value){ alert('–í—ã–±–µ—Ä–∏—Ç–µ –Ω–æ–º–µ—Ä –ü–ö'); return; }
  document.getElementById('stepPc').classList.add('hidden');
  document.getElementById('stepMenu').classList.remove('hidden');
  document.getElementById('pcLabel').innerText=pcSelect.value;
  renderMenu();
}

function renderMenu(){
  const menuList=document.getElementById('menuList'); menuList.innerHTML='';
  menuData.forEach(item=>{
    const row=document.createElement('div'); row.className='menu-row';
    row.innerHTML=`<div class="menu-name">${item.name}</div>
      <div style="display:flex; gap:8px; align-items:center;"><span>${item.price} ‚Ç∏</span>
      <button onclick="animateAdd(this,'${item.name}',${item.price})">Ôºã</button></div>`;
    menuList.appendChild(row);
  });
}

function animateAdd(btn,name,price){
  btn.style.transform='scale(1.4)';
  setTimeout(()=>btn.style.transform='scale(1)',200);
  addToCart(name,price);
}

function addToCart(name,price){
  cart.push({name,price});
  renderCart();
  openCart();
}

function renderCart(){
  const box=document.getElementById('cartItems'); box.innerHTML=''; let sum=0;
  cart.forEach(i=>{
    sum+=i.price;
    const item=document.createElement('div'); item.className='cart-item'; item.innerHTML=`<span>${i.name}</span><span>${i.price} ‚Ç∏</span>`;
    box.appendChild(item);
  });
  box.innerHTML+=`<strong>–ò—Ç–æ–≥–æ: ${sum} ‚Ç∏</strong>`;
  const count=document.getElementById('cartCount');
  count.innerText=cart.length;
  count.style.transform='scale(1.4)';
  setTimeout(()=>count.style.transform='scale(1)',200);
}

function toggleCart(){ document.getElementById('cartPanel').classList.toggle('open'); }
function openCart(){ document.getElementById('cartPanel').classList.add('open'); }

function sendOrder(){
  if(!cart.length){ alert('–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞'); return; }
  fetch('YOUR_GOOGLE_SCRIPT_URL',{
    method:'POST',
    body: JSON.stringify({
      pc: pcSelect.value,
      items: cart.map(i=>i.name).join(', '),
      sum: cart.reduce((a,b)=>a+b.price,0),
      comment: document.getElementById('comment').value
    })
  });
  document.getElementById('stepMenu').classList.add('hidden');
  toggleCart();
  document.getElementById('success').classList.remove('hidden');
}
</script>
</body>
</html>
